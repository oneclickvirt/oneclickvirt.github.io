import{_ as e,c as i,o as a,ag as t}from"./chunks/framework.CSeR4K32.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"en/guide/incus/incus_qa.md","filePath":"en/guide/incus/incus_qa.md","lastUpdated":1760766599000}'),n={name:"en/guide/incus/incus_qa.md"};function o(h,s,l,p,r,d){return a(),i("div",null,s[0]||(s[0]=[t('<h2 id="solve-the-puzzle" tabindex="-1">Solve the puzzle <a class="header-anchor" href="#solve-the-puzzle" aria-label="Permalink to &quot;Solve the puzzle&quot;">​</a></h2><h2 id="what-to-do-if-you-open-centos7-and-find-that-cgroupv1-is-not-supported" tabindex="-1">What to do if you open centos7 and find that CGroupV1 is not supported? <a class="header-anchor" href="#what-to-do-if-you-open-centos7-and-find-that-cgroupv1-is-not-supported" aria-label="Permalink to &quot;What to do if you open centos7 and find that CGroupV1 is not supported?&quot;">​</a></h2><p>Enable CGroup V1: To enable CGroup V1 on an Ubuntu system, you need to edit the kernel boot parameters.</p><p>Please note that before changing kernel boot parameters, make sure to backup important data and settings to prevent unexpected problems.</p><p>Edit the ```/etc/default/grub<code>file and add</code>systemd.unified_cgroup_hierarchy=0<code>to the end of the parameters in</code>GRUB_CMDLINE_LINUX_DEFAULT``, just like:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet splash systemd.unified_cgroup_hierarchy=0&quot;</span></span></code></pre></div><p>Save the file and run the following command to update the GRUB boot.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update-grub</span></span></code></pre></div><p>Reboot the system for the changes to take effect</p><p>If the above changes still do not support the opening of centos7, try using a different host system.</p><h2 id="requires-both-incus-and-docker-compatibility-to-exist" tabindex="-1">Requires both Incus and Docker compatibility to exist <a class="header-anchor" href="#requires-both-incus-and-docker-compatibility-to-exist" aria-label="Permalink to &quot;Requires both Incus and Docker compatibility to exist&quot;">​</a></h2><p>If left unaddressed, docker will override the iptables setting and cause Incus to have no network link</p><p>You need to install a scheduled task to detect and fix this issue</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.githubusercontent.com/oneclickvirt/incus/main/extra_scripts/docker-coexistence.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-coexistence.sh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-coexistence.sh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-coexistence.sh</span></span></code></pre></div><h2 id="incus-has-high-cpu-usage-on-single-core-hosts-after-long-term-use" tabindex="-1">Incus has high CPU usage on single-core hosts after long-term use <a class="header-anchor" href="#incus-has-high-cpu-usage-on-single-core-hosts-after-long-term-use" aria-label="Permalink to &quot;Incus has high CPU usage on single-core hosts after long-term use&quot;">​</a></h2><p>This high CPU usage is native to Incus, there is no workaround for it, and it can only be reproduced on single-core hosts, so you don&#39;t need to bother with multi-core hosts.</p><p>You need to install a timed task to detect and fix the problem, and check the usage every 5 minutes to see if you need to restart the Incus back-end.</p><ul><li>Download</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.githubusercontent.com/oneclickvirt/incus/main/extra_scripts/incus_fixed_restart.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> incus_fixed_restart.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> incus_fixed_restart.sh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> incus_fixed_restart.sh</span></span></code></pre></div><ul><li>Installation</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> incus_fixed_restart.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div><p>will be copied to <code>/usr/local/bin/incus_fixed_restart.sh</code> and written to <code>cron</code> to run every minute.</p><ul><li>Uninstall</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> incus_fixed_restart.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span></span></code></pre></div><p>Removes <code>cron</code> tasks, script files, log files, and count files.</p><ul><li>Runs normally (called by cron)</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/usr/local/bin/incus_fixed_restart.sh</span></span></code></pre></div><h2 id="currently-verified-vps-vendors-that-can-open-containers-with-separate-ipv6-addresses" tabindex="-1">Currently verified VPS vendors that can open containers with separate IPV6 addresses. <a class="header-anchor" href="#currently-verified-vps-vendors-that-can-open-containers-with-separate-ipv6-addresses" aria-label="Permalink to &quot;Currently verified VPS vendors that can open containers with separate IPV6 addresses.&quot;">​</a></h2><p><a href="https://my.kuroit.com/aff.php?aff=5" target="_blank" rel="noreferrer">kuroit</a> Phoenix, USA regular</p><p><a href="https://t.me/+UHVoo2U4VyA5NTQ1/338" target="_blank" rel="noreferrer">datalix</a> German AMD Promotions</p>',30)]))}const k=e(n,[["render",o]]);export{u as __pageData,k as default};

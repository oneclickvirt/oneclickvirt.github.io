import{_ as s,v as p,b as e,R as o}from"./chunks/framework.70afa331.js";const a="/assets/a1.662d9415.png",t="/assets/a2.1d7d86db.png",c="/assets/a3.178777a1.png",d="/assets/a4.65c15963.png",r="/assets/a5.01b8514f.png",i="/assets/a6.67efded0.png",n="/assets/a7.b8de9a6c.png",l="/assets/a8.69056d9a.png",m="/assets/a9.d4cc5fc0.png",g="/assets/a10.36860678.png",_="/assets/a11.bbc20080.png",b="/assets/a12.da46fe54.png",h="/assets/a13.b49276aa.png",f="/assets/a14.908480a6.png",u="/assets/a15.9533f30d.png",x="/assets/a16.2257f2d8.png",q="/assets/a17.b57c7755.png",I="/assets/a18.c3a22602.png",O="/assets/a19.1eefd81d.png",P="/assets/a20.24042237.png",C="/assets/a21.2bb37c9a.png",A="/assets/a22.44ab6d75.png",v="/assets/a23.191de0ca.png",k="/assets/a24.d2a9c729.png",G="/assets/a25.3e24d99b.png",V="/assets/a26.2fce6332.png",w="/assets/ar.0d8bb8f3.png",y="/assets/a27.dd61884c.png",F="/assets/a31.6d3a9d85.png",K="/assets/a32.d9973307.png",U="/assets/a33.8b54ce3f.png",D="/assets/a34.07f5cc75.png",B="/assets/a35.78be61d4.png",E="/assets/a36.a36765c2.png",S="/assets/a37.e6740eaa.png",N="/assets/a38.999b4ffb.png",M="/assets/a39.9dac95e1.png",R="/assets/a40.7f5ad4ea.png",L="/assets/a41.bbc5e317.png",T="/assets/a42.de7d1da7.png",W="/assets/a43.e713599d.png",z="/assets/a44.5c4e5e0a.png",j="/assets/a45.2c32612e.png",Q="/assets/b1.c1fdb506.png",$="/assets/b2.519a9bf0.png",Y="/assets/b3.42fd37a2.png",H="/assets/b4.b6d283a7.png",J="/assets/b5.4cd5361f.png",X="/assets/b6.36f0470d.png",Z="/assets/b7.9714bb16.png",ss="/assets/b8.2eb373bf.png",ps="/assets/b9.3f01ffdc.png",es="/assets/b10.52a93636.png",os="/assets/b11.2e525d8d.png",as="/assets/b12.54c3189d.png",ts="/assets/b13.3b3ae784.png",cs="/assets/b14.662b1a1b.png",ds="/assets/b15.0c5536d8.png",rs="/assets/b16.0fbcfcb1.png",is="/assets/b17.4e7429fe.png",ns="/assets/b18.8211f293.png",ls="/assets/b19.2128d0fa.png",ms="/assets/b20.8a62698b.png",gs="/assets/b21.dfe1e8f0.png",_s="/assets/b22.13e3438c.png",bs="/assets/b23.e293a560.png",hs="/assets/b24.23cbc29a.png",fs="/assets/b25.f2c2ebd7.png",us="/assets/b26.b7136167.png",xs="/assets/b27.cc8f8644.png",qs="/assets/b28.2bf4d8b9.png",Is="/assets/b29.8d301c10.png",Os="/assets/b30.a50bc8f3.png",Ps="/assets/b31.4881ca1d.png",Cs="/assets/b32.b857654b.png",As="/assets/b33.1125a81c.png",vs="/assets/b34.2101ce9a.png",ks="/assets/b35.83c5a766.png",Gs="/assets/b36.ea1f048c.png",Vs="/assets/b37.b60405a9.png",ws="/assets/br.bb3418b4.png",ys="/assets/b38.4d73fbe3.png",Fs="/assets/b39.c59ccabe.png",Ks="/assets/b40.c1d0ee00.png",Us="/assets/b41.0c6d7432.png",Ds="/assets/b42.66cc353b.png",Bs="/assets/b43.a775b641.png",Es="/assets/b44.2d540844.png",Ss="/assets/b45.fe0240c6.png",Ns="/assets/b46.f6b9da14.png",Js=JSON.parse('{"title":"Android 虚拟机","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"guide/pve/pve_android.md","filePath":"guide/pve/pve_android.md","lastUpdated":1747570916000}'),Ms={name:"guide/pve/pve_android.md"},Rs=o('<h1 id="android-虚拟机" tabindex="-1">Android 虚拟机 <a class="header-anchor" href="#android-虚拟机" aria-label="Permalink to &quot;Android 虚拟机&quot;">​</a></h1><h2 id="安卓系统镜像下载" tabindex="-1">安卓系统镜像下载 <a class="header-anchor" href="#安卓系统镜像下载" aria-label="Permalink to &quot;安卓系统镜像下载&quot;">​</a></h2><p>Android系统版本9及以前的镜像下载地址：</p><p>国际</p><p><a href="https://www.fosshub.com/Android-x86.html" target="_blank" rel="noreferrer">https://www.fosshub.com/Android-x86.html</a></p><p><a href="https://sourceforge.net/projects/android-x86/files/" target="_blank" rel="noreferrer">https://sourceforge.net/projects/android-x86/files/</a></p><p>国内</p><p><a href="https://mirrors.tuna.tsinghua.edu.cn/osdn/android-x86/" target="_blank" rel="noreferrer">https://mirrors.tuna.tsinghua.edu.cn/osdn/android-x86/</a></p><p>Android系统版本10及以后的新镜像下载地址：</p><p><a href="https://blissos.org/index.html#download" target="_blank" rel="noreferrer">https://blissos.org/index.html#download</a></p><h2 id="虚拟机开设" tabindex="-1">虚拟机开设 <a class="header-anchor" href="#虚拟机开设" aria-label="Permalink to &quot;虚拟机开设&quot;">​</a></h2><h3 id="以安卓版本9及以前的镜像开设android虚拟机" tabindex="-1">以安卓版本9及以前的镜像开设Android虚拟机 <a class="header-anchor" href="#以安卓版本9及以前的镜像开设android虚拟机" aria-label="Permalink to &quot;以安卓版本9及以前的镜像开设Android虚拟机&quot;">​</a></h3><p>本指南以</p><p><a href="https://mirrors.tuna.tsinghua.edu.cn/osdn/android-x86/71931/android-x86_64-9.0-rc2.iso" target="_blank" rel="noreferrer">https://mirrors.tuna.tsinghua.edu.cn/osdn/android-x86/71931/android-x86_64-9.0-rc2.iso</a></p><p>作为示例进行演示</p><p><img src="'+a+'" alt="1"></p><h4 id="模板设置" tabindex="-1">模板设置 <a class="header-anchor" href="#模板设置" aria-label="Permalink to &quot;模板设置&quot;">​</a></h4><p>开设VMID为<code>100</code>的虚拟机选择对应的存储盘</p><p><img src="'+t+'" alt="2"></p><p>选择安卓镜像，然后<code>Type</code>选择<code>Linux</code>，<code>Version</code>选择含2.6版本的选项</p><p><img src="'+c+'" alt="3"></p><p><code>Graphic card</code>选择<code>Vmware compatible</code>，其他选项选择默认如图所示</p><p><img src="'+d+'" alt="4"></p><p>磁盘格式选择<code>SATA</code>，具体需要分配多大的磁盘自选，推荐至少30G</p><p><img src="'+r+'" alt="5"></p><p>CPU数量至少2核</p><p>如果你的宿主机支持嵌套虚拟化，CPU的类型请选择<code>host</code>(经验证无问题)</p><p>如果你的宿主机不支持嵌套虚拟化，CPU的类型请选择<code>qemu64</code>，同时在模板设置成功后，需要在<code>Options</code>中点击<code>KVM hardware virtualization</code>取消勾选后再启动虚拟机(不保证后面系统初始化无问题)</p><p><img src="'+i+'" alt="6"></p><p>内存至少4G内存，填写至少<code>4096</code></p><p><img src="'+n+'" alt="7"></p><p>绑定的网桥选择<code>vmbr1</code>，<code>Model</code>选择<code>VirtIO (paravirtualized)</code>，取消<code>Firewall</code>的勾选</p><p><img src="'+l+'" alt="8"></p><p>后续点击continue按钮后，模板成功创建出来，需要手动点击启动并进入VNC界面</p><p><img src="'+m+'" alt="9"></p><h4 id="系统安装" tabindex="-1">系统安装 <a class="header-anchor" href="#系统安装" aria-label="Permalink to &quot;系统安装&quot;">​</a></h4><p>进入引导后，选择<code>Installation</code>开头的选项</p><p><img src="'+g+'" alt="10"></p><p>然后需要创建分区写入，这块如果选择不了的话按键盘按钮c，就能选中了</p><p><img src="'+_+'" alt="11"></p><p>选择不使用GPT格式</p><p><img src="'+b+'" alt="12"></p><p>显示空白盘后，选择<code>New</code></p><p><img src="'+h+'" alt="13"></p><p>选择分区类型<code>Primary</code></p><p><img src="'+f+'" alt="14"></p><p>然后会提示划分多大的空间，默认回车就行，使用全部的空间</p><p><img src="'+u+'" alt="15"></p><p>然后是选择<code>Flags</code>，移动到<code>Bootable</code>后，按回车，直到<code>Flags</code>下方显示<code>Boot</code></p><p><img src="'+x+'" alt="16"></p><p>然后移动到<code>Write</code>，回车，进行写入</p><p><img src="'+q+'" alt="17"></p><p>这时候会让你确认是否继续，输入<code>yes</code>后回车继续</p><p><img src="'+I+'" alt="18"></p><p>一段进度条跑过后，回到了最初的菜单，选择<code>Quit</code>退出菜单，一切准备就绪了</p><p><img src="'+O+'" alt="19"></p><p>然后这时候回到了UI界面，使用前面初始化好的盘，选择<code>OK</code>按钮回车</p><p><img src="'+P+'" alt="20"></p><p>文件系统按方向键选择<code>ext4</code>类型，选择<code>OK</code>按钮回车</p><p><img src="'+C+'" alt="21"></p><p>确认进行格式化，选择<code>Yes</code>按钮回车</p><p><img src="'+A+'" alt="22"></p><p>确认GRUB引导安装，选择<code>OK</code>按钮回车</p><p><img src="'+v+'" alt="23"></p><p>确认文件系统可读写，选择<code>OK</code>按钮回车</p><p><img src="'+k+'" alt="24"></p><p>跑了一段时间进度条后，显示安装成功，此时选择<code>Reboot</code>，选择<code>OK</code>按钮回车</p><p><img src="'+G+'" alt="25"></p><p>然后一段时间后进入安卓LOGO界面</p><p><img src="'+V+'" alt="26"></p><h4 id="镜像移除" tabindex="-1">镜像移除 <a class="header-anchor" href="#镜像移除" aria-label="Permalink to &quot;镜像移除&quot;">​</a></h4><p>然后会进入一段黑屏，大概3~5分钟后仍然黑屏的话，宿主机执行<code>qm stop 100</code>，然后开始移除镜像文件</p><p>移除已经按照完毕的ISO文件，在ProxmoxVE的web端手动在<code>Hardware[硬件]</code>中点击对应的<code>CD</code>选择<code>Remove[删除]</code></p><p><img src="'+w+'" alt="ar"></p><p>然后宿主机再执行<code>qm start 100</code>，然后应该就会进入安卓系统的初始化界面了</p><h4 id="系统初始化" tabindex="-1">系统初始化 <a class="header-anchor" href="#系统初始化" aria-label="Permalink to &quot;系统初始化&quot;">​</a></h4><p>初始化界面选择语言，然后点击确定按钮</p><p><img src="'+y+'" alt="27"></p><p>此时回尝试连接WIFI，由于本项目安装的PVE是完全的静态网络配置，直接跳过，稍后再进行设置</p><p><img src="'+F+'" alt="31"></p><p>点击下一步按钮确认设置时间</p><p><img src="'+K+'" alt="32"></p><p>点击取消屏幕保护，确认仍然跳过</p><p><img src="'+U+'" alt="33"></p><p>然后一段时间黑屏后，会出现主屏幕应用的选择，如果等待3~5分钟这个界面仍然没有出现，那么像之前那样重启虚拟机，再进入VNC应该就会显示了</p><p>选择<code>Quickstep</code></p><p><img src="'+D+'" alt="34"></p><h4 id="网络设置" tabindex="-1">网络设置 <a class="header-anchor" href="#网络设置" aria-label="Permalink to &quot;网络设置&quot;">​</a></h4><p>进入桌面，此时需要开始设置网络，左上角点击设置图标</p><p><img src="'+B+'" alt="35"></p><p>出现下拉框，点击按住下拉</p><p><img src="'+E+'" alt="36"></p><p>点击齿轮按钮</p><p><img src="'+S+'" alt="37"></p><p>进入<code>网络和互联网</code>设置</p><p><img src="'+N+'" alt="38"></p><p>左键双击<code>WIFI</code></p><p><img src="'+M+'" alt="39"></p><p>修改目前识别到的<code>VirtWIFI</code>，右键点击出现选择框后，点击<code>修改网络</code></p><p><img src="'+R+'" alt="40"></p><p>出现高级选项，点击打开隐藏的选项</p><p><img src="'+L+'" alt="41"></p><p>如图进行对应的网络设置</p><p>IP地址 <code>172.16.1.xxx</code>(xxx换成你想绑定的ip，我的vmid是100，为了方便写了100)</p><p>子网掩码 <code>24</code></p><p>默认网关 <code>172.16.1.1</code></p><p>DNS <code>8.8.8.8</code> 或 <code>144.144.144.144</code></p><p>然后点击保存按钮</p><p><img src="'+T+'" alt="42"></p><p>此时出来后可能仍然未应用设置，点击关闭WIFI后，再启用WIFI，应该就会显示已连接</p><p><img src="'+W+'" alt="43"></p><p>然后退出到主界面，点击谷歌浏览器，尝试打开一个网页</p><p><img src="'+z+'" alt="44"></p><p>可以看到打开本指南的网址无问题，证明网络已联通</p><p><img src="'+j+'" alt="45"></p><h3 id="以安卓版本10及以后的新镜像开设android虚拟机" tabindex="-1">以安卓版本10及以后的新镜像开设Android虚拟机 <a class="header-anchor" href="#以安卓版本10及以后的新镜像开设android虚拟机" aria-label="Permalink to &quot;以安卓版本10及以后的新镜像开设Android虚拟机&quot;">​</a></h3><p>本指南以</p><p><a href="https://psychz.dl.sourceforge.net/project/blissos-x86/Official/BlissOS15/Gapps/Generic/Bliss-v15.9.2-x86_64-OFFICIAL-gapps-20241012.iso?viasf=1" target="_blank" rel="noreferrer">https://psychz.dl.sourceforge.net/project/blissos-x86/Official/BlissOS15/Gapps/Generic/Bliss-v15.9.2-x86_64-OFFICIAL-gapps-20241012.iso?viasf=1</a></p><p>作为示例进行演示</p><p><img src="'+Q+'" alt="1"></p><h4 id="模板设置-1" tabindex="-1">模板设置 <a class="header-anchor" href="#模板设置-1" aria-label="Permalink to &quot;模板设置&quot;">​</a></h4><p>宿主机需要先执行以下命令安装图形环境依赖</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">apt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">libgl1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">libegl1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span></span></code></pre></div><p>然后开始创建虚拟机，点击右上角的<code>Create VM</code>按钮，填写<code>VMID</code>、<code>Name</code>、<code>Resource Pool</code></p><p><img src="'+$+'" alt="2"></p><p>选择安卓镜像，然后<code>Type</code>选择<code>Linux</code>，<code>Version</code>选择含2.6版本的选项</p><p><img src="'+Y+'" alt="3"></p><p>如果宿主机本身携带有GPU，那么<code>Graphic card</code>选择<code>VirGL GPU</code>。</p><p>如果宿主机本身不携带GPU，那么<code>Graphic card</code>选择<code>VirtIO</code>或<code>Vmware compatible</code>。</p><p><code>Machine</code>选择<code>q35</code>，<code>BIOS</code>选择<code>OVMF (UEFI)</code>启动，<code>EFI Storage</code>选择<code>local</code>。</p><p><img src="'+H+'" alt="4"></p><p>磁盘格式选择<code>SATA</code>，具体需要分配多大的磁盘自选，推荐至少30G</p><p><img src="'+J+'" alt="5"></p><p>CPU数量至少2核</p><p>如果你的宿主机支持嵌套虚拟化，CPU的类型请选择<code>host</code>(经验证无问题)</p><p>如果你的宿主机不支持嵌套虚拟化，CPU的类型请选择<code>qemu64</code>，同时在模板设置成功后，需要在<code>Options</code>中点击<code>KVM hardware virtualization</code>取消勾选后再启动虚拟机(不保证后面系统初始化无问题)</p><p><img src="'+X+'" alt="6"></p><p>内存至少4G内存，填写至少<code>4096</code></p><p><img src="'+Z+'" alt="7"></p><p>绑定的网桥选择<code>vmbr1</code>，<code>Model</code>选择<code>VirtIO (paravirtualized)</code>，取消<code>Firewall</code>的勾选</p><p><img src="'+ss+'" alt="8"></p><p>后续点击continue按钮后，模板成功创建出来，需要手动点击启动并进入VNC界面。</p><h4 id="系统安装-1" tabindex="-1">系统安装 <a class="header-anchor" href="#系统安装-1" aria-label="Permalink to &quot;系统安装&quot;">​</a></h4><p>进入引导后，选择<code>Installation</code>结尾的选项</p><p><img src="'+ps+'" alt="9"></p><p>然后需要创建分区写入，这块如果选择不了的话按键盘按钮c，就能选中了。</p><p><img src="'+es+'" alt="10"></p><p>选择不使用GPT格式，依然使用cfdisk格式。</p><p><img src="'+os+'" alt="11"></p><p>显示格式选择框，选择<code>gpt</code>。</p><p><img src="'+as+'" alt="12"></p><p>显示空白盘后，选择<code>New</code>。</p><p><img src="'+ts+'" alt="13"></p><p>因为要划分EFI分区，这个盘需要修改大小，不能使用默认大小，数字改成1就行，分配1G硬盘，然后按回车。</p><p><img src="'+cs+'" alt="14"></p><p>然后回到了菜单栏，按方向键选择<code>Type</code>，然后回车，给分区选择格式类型</p><p><img src="'+ds+'" alt="15"></p><p>按方向键选择第一个选项<code>EFI System</code>，然后回车</p><p><img src="'+rs+'" alt="16"></p><p>此时回到菜单栏，页面上半部分就能看到具体的分区大小和格式</p><p><img src="'+is+'" alt="17"></p><p>然后按下方向键，选择下一行空白的分区</p><p><img src="'+ns+'" alt="18"></p><p>菜单栏选择<code>New</code>，然后回车</p><p><img src="'+ls+'" alt="19"></p><p>这块需要填写分区大小，此时对照右上角选中的空白分区大小一致即可，然后回车。</p><p><img src="'+ms+'" alt="20"></p><p>回到菜单栏，选择<code>Write</code>，回车，写入分区。</p><p><img src="'+gs+'" alt="21"></p><p>会提示你输入<code>yes</code>进行确认，输入后回车。</p><p><img src="'+_s+'" alt="22"></p><p>然后一段进度条跑过，应该会回到菜单栏，选择<code>Quit</code>退出菜单，一切准备就绪了</p><p><img src="'+bs+'" alt="23"></p><p>然后这时候回到了UI界面，使用前面初始化好的1GB大小的盘，选择<code>OK</code>按钮回车。</p><p><img src="'+hs+'" alt="24"></p><p>文件系统按方向键选择<code>fat32</code>类型，选择<code>OK</code>按钮回车</p><p><img src="'+fs+'" alt="25"></p><p>确认不修改名字，选择<code>OK</code>按钮回车</p><p><img src="'+us+'" alt="26"></p><p>确认进行格式化，选择<code>Yes</code>按钮回车</p><p><img src="'+xs+'" alt="27"></p><p>然后回到最初的UI栏，选择第二块不是1GB大小的分区，选择<code>OK</code>按钮回车</p><p><img src="'+qs+'" alt="28"></p><p>文件系统按方向键选择<code>ext4</code>类型，选择<code>OK</code>按钮回车</p><p><img src="'+Is+'" alt="29"></p><p>确认不修改名字，选择<code>OK</code>按钮回车</p><p><img src="'+Os+'" alt="30"></p><p>确认进行格式化，选择<code>Yes</code>按钮回车</p><p><img src="'+Ps+'" alt="31"></p><p>默认不使用额外空间更新，选择<code>No</code>按钮回车</p><p><img src="'+Cs+'" alt="32"></p><p>确认<code>GRUB2 EFI BootLoader</code>，选择<code>OK</code>按钮回车</p><p><img src="'+As+'" alt="33"></p><p>跑了一段时间进度条后，显示安装成功，此时选择<code>Reboot</code>，选择<code>OK</code>按钮回车。</p><p><img src="'+vs+'" alt="34"></p><h4 id="系统初始化-1" tabindex="-1">系统初始化 <a class="header-anchor" href="#系统初始化-1" aria-label="Permalink to &quot;系统初始化&quot;">​</a></h4><p>然后一段时间后进入LOGO界面。</p><p><img src="'+ks+'" alt="35"></p><p>再过一段时间，应该就会进入初始的安卓界面了，能看到弹窗和时间，按住左键上划</p><p><img src="'+Gs+'" alt="36"></p><p>会出现主屏幕应用的选择，选择<code>Quickstep</code></p><p>如果等待3~5分钟这个界面仍然没有出现，那么就重启虚拟机，再进入VNC应该就会显示了</p><p><img src="'+Vs+'" alt="37"></p><h4 id="镜像移除-1" tabindex="-1">镜像移除 <a class="header-anchor" href="#镜像移除-1" aria-label="Permalink to &quot;镜像移除&quot;">​</a></h4><p>出现了安卓的界面后，宿主机执行<code>qm stop 100</code>，然后开始移除镜像文件。</p><p>移除已经按照完毕的ISO文件，在ProxmoxVE的web端手动在<code>Hardware[硬件]</code>中点击对应的<code>CD</code>选择<code>Remove[删除]</code></p><p><img src="'+ws+'" alt="br"></p><p>然后宿主机再执行<code>qm start 100</code>，然后应该就会进入系统的初始界面了。</p><h4 id="网络设置-1" tabindex="-1">网络设置 <a class="header-anchor" href="#网络设置-1" aria-label="Permalink to &quot;网络设置&quot;">​</a></h4><p>进入桌面，此时需要开始设置网络，图示位置按住左键，上划</p><p><img src="'+ys+'" alt="38"></p><p>弹出一堆应用，在里面找到那个叫做<code>Bliss Ethernet Manager</code>的应用，点击并打开</p><p><img src="'+Fs+'" alt="39"></p><p><code>IP Assignment</code>点击打开，选择<code>Static</code>类型，点击OK按钮确认</p><p><img src="'+Ks+'" alt="40"></p><p><code>IP Address</code>点击打开，填入<code>172.16.1.xxx/24</code>(xxx我写的100，因为这里我的虚拟机VMID是100方便区分)，点击OK按钮确认</p><p><img src="'+Us+'" alt="41"></p><p><code>Gateway Address</code>点击打开，填入<code>172.16.1.1</code>，点击OK按钮确认</p><p><img src="'+Ds+'" alt="42"></p><p><code>DNS Address</code>点击打开，填入<code>8.8.8.8</code>，点击OK按钮确认</p><p><img src="'+Bs+'" alt="43"></p><p>然后在应用界面中，点击<code>Interface Up</code>和<code>Refresh</code>，然后键盘按<code>exit</code>键退出程序</p><p><img src="'+Es+'" alt="44"></p><p>主界面中打开浏览器，验证网络是否畅通</p><p><img src="'+Ss+'" alt="45"></p><p>可以看到打开本指南无问题，网络畅通</p><p><img src="'+Ns+'" alt="46"></p>',227),Ls=[Rs];function Ts(Ws,zs,js,Qs,$s,Ys){return p(),e("div",null,Ls)}const Xs=s(Ms,[["render",Ts]]);export{Js as __pageData,Xs as default};

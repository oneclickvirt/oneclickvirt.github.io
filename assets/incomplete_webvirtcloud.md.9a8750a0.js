import{_ as s,v as a,b as l,R as e}from"./chunks/framework.70afa331.js";const y=JSON.parse('{"title":"","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"incomplete/webvirtcloud.md","filePath":"incomplete/webvirtcloud.md","lastUpdated":1745112952000}'),o={name:"incomplete/webvirtcloud.md"},n=e(`<h2 id="repo" tabindex="-1">Repo <a class="header-anchor" href="#repo" aria-label="Permalink to &quot;Repo&quot;">​</a></h2><p><a href="https://github.com/oneclickvirt/webvirtcloud" target="_blank" rel="noreferrer">https://github.com/oneclickvirt/webvirtcloud</a></p><p><a href="https://hits.spiritlhl.net" target="_blank" rel="noreferrer"><img src="https://hits.spiritlhl.net/webvirtcloud.svg?action=hit&amp;title=hits&amp;title_bg=%23555555&amp;count_bg=%233aebee&amp;edge_flat=false" alt="hits"></a></p><hr><h3 id="controller-控制端安装" tabindex="-1">Controller 控制端安装 <a class="header-anchor" href="#controller-控制端安装" aria-label="Permalink to &quot;Controller 控制端安装&quot;">​</a></h3><blockquote><p><strong>最低配置要求</strong>：</p><ul><li>CPU: 1 核</li><li>内存: 1 GB</li><li>硬盘: 空余 10 GB</li></ul></blockquote><h4 id="默认登录信息-login-info" tabindex="-1">默认登录信息 Login Info <a class="header-anchor" href="#默认登录信息-login-info" aria-label="Permalink to &quot;默认登录信息 Login Info&quot;">​</a></h4><ul><li>用户名 / Username: <code>admin@webvirt.cloud</code></li><li>密码 / Password: <code>admin</code></li></ul><h4 id="面板地址-panel-access" tabindex="-1">面板地址 Panel Access <a class="header-anchor" href="#面板地址-panel-access" aria-label="Permalink to &quot;面板地址 Panel Access&quot;">​</a></h4><ul><li>用户面板 / Client Panel: <code>https://192-168-0-114.nip.io</code></li><li>管理后台 / Admin Panel: <code>https://192-168-0-114.nip.io/admin</code></li></ul><blockquote><p>请将 <code>192.168.0.114</code> 替换为你的公网 IP，以获取真实可访问地址。<br> Replace <code>192.168.0.114</code> with your actual <strong>public IP address</strong>.</p></blockquote><h4 id="安装命令-install-command" tabindex="-1">安装命令 Install Command <a class="header-anchor" href="#安装命令-install-command" aria-label="Permalink to &quot;安装命令 Install Command&quot;">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-slk</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://raw.githubusercontent.com/oneclickvirt/webvirtcloud/main/scripts/install_webvirt_cloud.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install_webvirt_cloud.sh</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+x</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install_webvirt_cloud.sh</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install_webvirt_cloud.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ctl</span></span></code></pre></div><h3 id="hypervisor-计算节点安装" tabindex="-1">Hypervisor 计算节点安装 <a class="header-anchor" href="#hypervisor-计算节点安装" aria-label="Permalink to &quot;Hypervisor 计算节点安装&quot;">​</a></h3><h4 id="环境检测" tabindex="-1">环境检测 <a class="header-anchor" href="#环境检测" aria-label="Permalink to &quot;环境检测&quot;">​</a></h4><blockquote><p><strong>建议配置</strong>：</p><ul><li>CPU: 2 核</li><li>内存: 4 GB</li><li>硬盘: 空余 40 GB</li><li>实际使用建议更高配置，测试环境只够开4台最小的虚拟机</li><li>服务器需要支持KVM嵌套虚拟化，如何测试建议使用 <a href="https://github.com/oneclickvirt/ecs" target="_blank" rel="noreferrer">https://github.com/oneclickvirt/ecs</a> 进行测试，需要检测项目<code>VM-x/AMD-V/Hyper-V</code>是启用的</li><li>跳过env检测安装，直接使用二进制文件，无需安装依赖</li></ul></blockquote><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-L</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://cdn.spiritlhl.net/https://raw.githubusercontent.com/oneclickvirt/ecs/master/goecs.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">goecs.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+x</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">goecs.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">./goecs.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span></code></pre></div><blockquote><p><strong>Recommended Configuration</strong>:</p><ul><li>CPU: 2 cores</li><li>RAM: 4 GB</li><li>Disk: 40 GB free space</li><li>Higher specs are recommended for actual usage; this minimal setup is only sufficient to run 4 smallest VM in a test environment</li><li>The server must support KVM nested virtualization(Need <code>VM-x/AMD-V/Hyper-V</code> is enabled). To test compatibility, it&#39;s recommended to use: <a href="https://github.com/oneclickvirt/ecs" target="_blank" rel="noreferrer">https://github.com/oneclickvirt/ecs</a></li><li>Skip the env detection installation, use the binary directly, no need to install dependencies:</li></ul></blockquote><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-L</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://cdn.spiritlhl.net/https://raw.githubusercontent.com/oneclickvirt/ecs/master/goecs.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">goecs.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+x</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">goecs.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">./goecs.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span></code></pre></div><h4 id="下载并准备安装脚本" tabindex="-1">下载并准备安装脚本 <a class="header-anchor" href="#下载并准备安装脚本" aria-label="Permalink to &quot;下载并准备安装脚本&quot;">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-slk</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://raw.githubusercontent.com/oneclickvirt/webvirtcloud/main/scripts/install_hypervisor1.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install_hypervisor1.sh</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+x</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install_hypervisor1.sh</span></span></code></pre></div><h4 id="执行安装命令-替换-controller-ip" tabindex="-1">执行安装命令（替换 Controller IP） <a class="header-anchor" href="#执行安装命令-替换-controller-ip" aria-label="Permalink to &quot;执行安装命令（替换 Controller IP）&quot;">​</a></h4><p>请将 <code>x.x.x.x</code> 替换为你的 <strong>Controller 控制端的实际 IP 地址</strong>：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install_hypervisor1.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">x.x.x.x</span></span></code></pre></div><h3 id="安装中可能出现的问题与提示" tabindex="-1">安装中可能出现的问题与提示 <a class="header-anchor" href="#安装中可能出现的问题与提示" aria-label="Permalink to &quot;安装中可能出现的问题与提示&quot;">​</a></h3><p>安装过程中可能会自动退出并提示 NetworkManager 版本问题，如下所示：</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Connection &#39;eth0&#39; (bed050e9-ff49-4665-8112-24ddf2a1cd3c) successfully deleted.</span></span>
<span class="line"><span style="color:#A6ACCD;">Warning: nmcli (1.48.10) and NetworkManager (1.42.2) versions don&#39;t match. Restarting NetworkManager is advised.</span></span>
<span class="line"><span style="color:#A6ACCD;">Error: Failed to add &#39;br-ext&#39; connection: connection.autoconnect-ports: unknown property</span></span></code></pre></div><blockquote><p><strong>解决方法</strong>：<br> 重启服务器后重新执行安装命令<br> Reboot your server, then <strong>run the install command again</strong>.</p></blockquote><h3 id="安装耗时提示" tabindex="-1">安装耗时提示 <a class="header-anchor" href="#安装耗时提示" aria-label="Permalink to &quot;安装耗时提示&quot;">​</a></h3><ul><li>整个过程大约耗时 <strong>20~25 分钟</strong></li><li>大部分时间用于下载 <code>finnix-125.iso</code>：<br><code>/var/lib/libvirt/isos/finnix-125.iso</code></li><li>该部分无法加速，<strong>建议使用 tmux 或 screen</strong> 等工具防止中断</li></ul><h3 id="添加计算节点到控制面板" tabindex="-1">添加计算节点到控制面板 <a class="header-anchor" href="#添加计算节点到控制面板" aria-label="Permalink to &quot;添加计算节点到控制面板&quot;">​</a></h3><p>安装完成后会生成一个 <strong>Token</strong>，用于在控制端（Admin 面板）中添加计算节点：</p><p>路径：<br><code>Admin Panel &gt; Computers &gt; Add</code></p><h3 id="纳管节点错误排查" tabindex="-1">纳管节点错误排查 <a class="header-anchor" href="#纳管节点错误排查" aria-label="Permalink to &quot;纳管节点错误排查&quot;">​</a></h3><p>Controller端：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">telnet &lt;node ip&gt; 8884</span></span></code></pre></div><p>Hypervisor端：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">journalctl -xeu webvirtcompute</span></span></code></pre></div><h2 id="thanks" tabindex="-1">Thanks <a class="header-anchor" href="#thanks" aria-label="Permalink to &quot;Thanks&quot;">​</a></h2><p><a href="https://webvirt.cloud/" target="_blank" rel="noreferrer">https://webvirt.cloud/</a></p>`,40),t=[n];function r(p,c,i,h,d,C){return a(),l("div",null,t)}const b=s(o,[["render",r]]);export{y as __pageData,b as default};

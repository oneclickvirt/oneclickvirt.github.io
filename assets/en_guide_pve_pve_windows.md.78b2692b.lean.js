import{_ as e,v as o,b as t,R as c}from"./chunks/framework.70afa331.js";const a="/assets/432192899-d9453c3b-46cd-4bc1-8c61-4f987b84dbdb.a2c0c1ef.png",s="/assets/432192951-c1dd421b-f516-47eb-a415-f54d56b34945.4fa2fea0.png",i="/assets/432193100-8ceb8253-1652-4194-bf7d-b64232612eaf.ea03923c.png",d="/assets/432193274-3704426d-d665-4672-b9f8-50504191eff0.b2be1a5c.png",n="/assets/432193298-0badebcb-5755-4ced-86cc-01368748f761.8e69987e.png",r="/assets/432193391-68f0eeeb-fc9f-4568-8ddf-777caf901345.8065a143.png",l="/assets/432193462-03a2728f-fa88-4884-a0f9-43f8e92f054b.4618bc7b.png",p="/assets/432193493-d549cae1-7cf1-40f5-9767-a628878520dc.c4992870.png",h="/assets/432193525-695a77d0-cadb-4eab-9c0c-d1cbea3f6d02.48037353.png",m="/assets/432193740-df901161-26b9-43d1-9106-baeb6485568c.0c3eac87.png",g="/assets/432193821-7c660689-c6bf-47fd-adef-e7bc3b139873.3aebbfd4.png",f="/assets/432193878-c7283ee4-d5cd-4091-a57f-e9e476468871.42bfd260.png",b="/assets/432193920-58698c75-97f4-4091-bbaa-a2a435468c28.ff78c941.png",w="/assets/432193959-c886b28e-8107-469c-9042-8479c46cabaa.4a04cf3d.png",u="/assets/432194105-63a1521a-b3fd-40ae-8992-b91046d0f346.e2343160.png",_="/assets/432194142-454b13e1-f948-4890-ab24-773afc0919e1.54522dff.png",k="/assets/432194244-228adbbf-4c00-48c0-bd58-94dc1f081369.97561122.png",I="/assets/432194273-9cb29c4c-78eb-49b2-9e1b-0e818bc9ca62.a8679083.png",y="/assets/432194639-ba4370df-ba6d-48fb-9255-e285f2d27377.fe7d0b3c.png",v="/assets/432194663-b4a7e456-878a-4829-bda1-05c8a9d6b6a7.4cdf4daa.png",C="/assets/net1.4f166207.png",x="/assets/net2.e2773ada.png",S="/assets/net3.40e8a226.png",O="/assets/net4.a81e777c.png",T=JSON.parse('{"title":"","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"en/guide/pve/pve_windows.md","filePath":"en/guide/pve/pve_windows.md","lastUpdated":1744817362000}'),N={name:"en/guide/pve/pve_windows.md"},P=c('<h2 id="using-iso-image-with-virtio-for-vm-setup" tabindex="-1">Using ISO Image with VirtIO for VM Setup <a class="header-anchor" href="#using-iso-image-with-virtio-for-vm-setup" aria-label="Permalink to &quot;Using ISO Image with VirtIO for VM Setup&quot;">​</a></h2><h3 id="_1-download-the-image" tabindex="-1">1. Download the Image <a class="header-anchor" href="#_1-download-the-image" aria-label="Permalink to &quot;1. Download the Image&quot;">​</a></h3><p>Before installation, you need to download the image file via <code>local(pve) --&gt; ISO images --&gt; Download from URL</code></p><p>For the download link (<code>URL:</code>), you can use files from: <a href="https://github.com/ILLKX/Windows-VirtIO" target="_blank" rel="noreferrer">https://github.com/ILLKX/Windows-VirtIO</a></p><p>Enter <code>win.iso</code> as the <code>File Name:</code><img src="'+a+'" alt="download"></p><p>Click <code>Download</code>. After downloading is complete, you can see the file size of <code>win.iso</code> on the current page, confirming it&#39;s in ISO format. <img src="'+s+'" alt="downloaded"></p><h3 id="_2-setting-up-the-template" tabindex="-1">2. Setting Up the Template <a class="header-anchor" href="#_2-setting-up-the-template" aria-label="Permalink to &quot;2. Setting Up the Template&quot;">​</a></h3><p>Click <code>Create VM</code> in the top right corner of the page.</p><p>In the <code>General</code> window, select <code>mypool</code> for <code>Resource Pool:</code>, enter <code>win</code> for <code>Name</code>, then click <code>Next</code>. <img src="'+i+'" alt="general"></p><p>In the <code>OS</code> window, select <code>win.iso</code> for <code>ISO image</code>. For <code>Guest OS</code>, select <code>Microsoft Windows</code> as the <code>Type</code> and choose the appropriate <code>Version</code> for your ISO. For example, if you downloaded Windows 2022, select <code>11/2022</code>, then click <code>Next</code>. <img src="'+d+'" alt="OS"></p><p>In the <code>System</code> window, select <code>VirtIO-GPU</code> for <code>Graphic card</code>, <code>q35</code> for <code>Machine</code>, <code>VirtIO SCSI</code> for <code>SCSI Controller</code>, and <code>Default (SeaBIOS)</code> for <code>BIOS</code>, then click <code>Next</code>. <img src="'+n+'" alt="system"></p><p>In the <code>Disk</code> window, select <code>Write Back</code> for <code>Cache</code>, enter your desired disk size in <code>Disk size (GiB)</code> (generally not less than <code>20</code>), and choose the storage location in <code>Storage</code>. In this example, only the system disk <code>local</code> is available, so <code>local</code> is selected. Then click <code>Next</code>. <img src="'+r+'" alt="disk"></p><p>In the <code>CPU</code> window, enter the number of cores needed in <code>Cores</code>, then click <code>Next</code>. <img src="'+l+'" alt="cpu"></p><p>In the <code>Memory</code> window, enter the desired memory size in <code>Memory (MiB)</code>, then click <code>Next</code>. <img src="'+p+'" alt="memory"></p><p>In the <code>Network</code> window, select <code>vmbr1</code> for <code>Bridge</code>, <code>VirtIO (paravirtualized)</code> for <code>Model</code>, uncheck <code>Firewall</code>, then click <code>Next</code>. <img src="'+h+'" alt="Network"></p><p>In the <code>Confirm</code> window, click <code>Finish</code>. <img src="'+m+'" alt="finish"></p><h3 id="_3-graphical-installation-configuration" tabindex="-1">3. Graphical Installation Configuration <a class="header-anchor" href="#_3-graphical-installation-configuration" aria-label="Permalink to &quot;3. Graphical Installation Configuration&quot;">​</a></h3><p>Click on the template you&#39;ve set up on the left, click <code>Start</code> in the upper right corner to start the virtual machine, then click <code>Console</code> to enter the <code>VNC</code> interface and wait for the operating system to boot. <img src="'+g+'" alt="console"></p><p>In the VNC, click <code>Next</code>, then <code>Install now</code>, then <code>I don&#39;t have a product key</code>, check <code>Accept license</code>, click <code>Next</code>, and then select <code>Custom installation</code>. <img src="'+f+'" alt="win0"><img src="'+b+'" alt="win1"><img src="'+w+'" alt="win2"><img src="'+u+'" alt="win3"><img src="'+_+'" alt="win4"></p><p>If the image comes with VirtIO drivers, you should be able to see the available system storage disk and its size. Select it and click <code>Next</code>. <img src="'+k+'" alt="win5"><img src="'+I+'" alt="win6"></p><p>Wait for the system to install. It may restart automatically several times and could take more than 10 minutes. <img src="'+y+'" alt="win7"></p><p>After installation is complete, you&#39;ll be asked to set a password during first login. <img src="'+v+'" alt="win8"></p><p>Once setup is complete, there&#39;s a pop-up box on the left side of the NOVNC page. Click the first button, then follow the login prompt by pressing <code>Ctrl</code>+<code>Alt</code>+last button to enter the login page.</p><h3 id="_4-network-initialization" tabindex="-1">4. Network Initialization <a class="header-anchor" href="#_4-network-initialization" aria-label="Permalink to &quot;4. Network Initialization&quot;">​</a></h3><p>Since the PVE is set up with a static network through this project, you need to manually modify the bound IP address after logging in, rather than using DHCP.</p><p>Right-click in the bottom right corner of the desktop and select <code>Open Network and Internet settings</code>. In the settings page that appears, click <code>Change adapter options</code>. <img src="'+C+'" alt="win9"></p><p>In the <code>Network Connections</code>, select <code>Ethernet</code> and click <code>Change settings of this connection</code>. <img src="'+x+'" alt="win10"></p><p>In the popup window, select <code>Internet Protocol Version 4 (TCP/IPv4)</code> and click <code>Properties</code>. <img src="'+S+`" alt="win11"></p><p>In the new dialog box, select <code>Use the following IP address</code> and enter: IP address(I): <code>172.16.1.xxx</code> (replace xxx with your desired IP, I used 100 for convenience as my vmid is 100) Subnet mask(U): <code>255.255.255.0</code> Default gateway(D): <code>172.16.1.1</code></p><p>Then select <code>Use the following DNS server addresses</code> and enter:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">8.8.8.8</span></span>
<span class="line"><span style="color:#A6ACCD;">144.144.144.144</span></span></code></pre></div><p>Click OK in the bottom right corner, and make sure <code>Validate settings upon exit</code> is NOT checked. <img src="`+O+'" alt="win12"></p><p>Click <code>OK</code> and <code>Yes</code> for any other dialog boxes, and your virtual machine will now have network connectivity.</p>',33),V=[P];function D(U,q,z,M,A,B){return o(),t("div",null,V)}const F=e(N,[["render",D]]);export{T as __pageData,F as default};

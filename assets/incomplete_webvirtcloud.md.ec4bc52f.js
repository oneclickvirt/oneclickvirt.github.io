import{_ as s,v as a,b as e,R as l}from"./chunks/framework.70afa331.js";const u=JSON.parse('{"title":"Thanks","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"incomplete/webvirtcloud.md","filePath":"incomplete/webvirtcloud.md","lastUpdated":1745053618000}'),n={name:"incomplete/webvirtcloud.md"},t=l(`<h2 id="repo" tabindex="-1">Repo <a class="header-anchor" href="#repo" aria-label="Permalink to &quot;Repo&quot;">​</a></h2><p><a href="https://github.com/oneclickvirt/webvirtcloud" target="_blank" rel="noreferrer">https://github.com/oneclickvirt/webvirtcloud</a></p><p><a href="https://hits.spiritlhl.net" target="_blank" rel="noreferrer"><img src="https://hits.spiritlhl.net/webvirtcloud.svg?action=hit&amp;title=hits&amp;title_bg=%23555555&amp;count_bg=%233aebee&amp;edge_flat=false" alt="hits"></a></p><h2 id="webvirtcloud-scripts" tabindex="-1">webvirtcloud-scripts <a class="header-anchor" href="#webvirtcloud-scripts" aria-label="Permalink to &quot;webvirtcloud-scripts&quot;">​</a></h2><p>Controller安装</p><p>至少1核1G内存10G空的硬盘</p><p>username: <code>admin@webvirt.cloud</code></p><p>password: <code>admin</code></p><p>Client panel - <a href="https://192-168-0-114.nip.io" target="_blank" rel="noreferrer">https://192-168-0-114.nip.io</a></p><p>Admin panel - <a href="https://192-168-0-114.nip.io/admin" target="_blank" rel="noreferrer">https://192-168-0-114.nip.io/admin</a></p><p>将192.168.0.114换成部署机的公网IP，上述地址就是面板地址</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-slk</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://raw.githubusercontent.com/oneclickvirt/webvirtcloud/main/scripts/install_webvirt_cloud.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install_webvirt_cloud.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">777</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install_webvirt_cloud.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install_webvirt_cloud.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ctl</span></span></code></pre></div><p>Hypervisor 安装</p><p>开发测试环境：2核4G内存50G空的硬盘</p><p>实际使用建议配置更高</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-slk</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://raw.githubusercontent.com/oneclickvirt/webvirtcloud/main/scripts/install_hypervisor1.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install_hypervisor1.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">777</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install_hypervisor1.sh</span></span></code></pre></div><p>替换<code>x.x.x.x</code>为实际的已部署了Controller的IP地址，然后再执行下述命令</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install_hypervisor1.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">x.x.x.x</span></span></code></pre></div><p>安装过程中可能会自动退出，提示当前的<code>NetworkManager</code>版本不符合要求，提示你需要重启服务器，大概提示如下：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Connection &#39;eth0&#39; (bed050e9-ff49-4665-8112-24ddf2a1cd3c) successfully deleted.</span></span>
<span class="line"><span style="color:#A6ACCD;">Warning: nmcli (1.48.10) and NetworkManager (1.42.2) versions don&#39;t match. Restarting NetworkManager is advised.</span></span>
<span class="line"><span style="color:#A6ACCD;">Error: Failed to add &#39;br-ext&#39; connection: connection.autoconnect-ports: unknown property</span></span></code></pre></div><p>此时重启服务器后需要再次执行上述命令</p><p>安装完毕后会显示纳管所用的token，这是需要在Controller的Admin面板中的Computers页面添加的节点信息</p><p>安装过程大概需要20~25分钟，主要耗时在<code>/var/lib/libvirt/isos/finnix-125.iso</code>的下载，这块无法加速，建议挂在tmux或者screen中进行安装</p><h1 id="thanks" tabindex="-1">Thanks <a class="header-anchor" href="#thanks" aria-label="Permalink to &quot;Thanks&quot;">​</a></h1><p><a href="https://webvirt.cloud/" target="_blank" rel="noreferrer">webvirt.cloud</a></p>`,25),o=[t];function p(r,c,i,d,h,C){return a(),e("div",null,o)}const b=s(n,[["render",p]]);export{u as __pageData,b as default};

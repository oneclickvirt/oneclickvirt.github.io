import{_ as e,v as o,b as c,R as d}from"./chunks/framework.70afa331.js";const s="/assets/432192899-d9453c3b-46cd-4bc1-8c61-4f987b84dbdb.a2c0c1ef.png",a="/assets/432192951-c1dd421b-f516-47eb-a415-f54d56b34945.4fa2fea0.png",t="/assets/432193100-8ceb8253-1652-4194-bf7d-b64232612eaf.ea03923c.png",p="/assets/432193274-3704426d-d665-4672-b9f8-50504191eff0.b2be1a5c.png",i="/assets/432193298-0badebcb-5755-4ced-86cc-01368748f761.8e69987e.png",n="/assets/432193391-68f0eeeb-fc9f-4568-8ddf-777caf901345.8065a143.png",r="/assets/432193462-03a2728f-fa88-4884-a0f9-43f8e92f054b.4618bc7b.png",l="/assets/432193493-d549cae1-7cf1-40f5-9767-a628878520dc.c4992870.png",m="/assets/432193525-695a77d0-cadb-4eab-9c0c-d1cbea3f6d02.48037353.png",_="/assets/432193740-df901161-26b9-43d1-9106-baeb6485568c.0c3eac87.png",b="/assets/432193821-7c660689-c6bf-47fd-adef-e7bc3b139873.3aebbfd4.png",f="/assets/432193878-c7283ee4-d5cd-4091-a57f-e9e476468871.42bfd260.png",g="/assets/432193920-58698c75-97f4-4091-bbaa-a2a435468c28.ff78c941.png",h="/assets/432193959-c886b28e-8107-469c-9042-8479c46cabaa.4a04cf3d.png",w="/assets/432194105-63a1521a-b3fd-40ae-8992-b91046d0f346.e2343160.png",u="/assets/432194142-454b13e1-f948-4890-ab24-773afc0919e1.54522dff.png",v="/assets/432194244-228adbbf-4c00-48c0-bd58-94dc1f081369.97561122.png",x="/assets/432194273-9cb29c4c-78eb-49b2-9e1b-0e818bc9ca62.a8679083.png",C="/assets/432194639-ba4370df-ba6d-48fb-9255-e285f2d27377.fe7d0b3c.png",I="/assets/432194663-b4a7e456-878a-4829-bda1-05c8a9d6b6a7.4cdf4daa.png",S="/assets/net1.4f166207.png",N="/assets/net2.e2773ada.png",P="/assets/net3.40e8a226.png",O="/assets/net4.a81e777c.png",R=JSON.parse('{"title":"","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"guide/pve/pve_windows.md","filePath":"guide/pve/pve_windows.md","lastUpdated":1745052905000}'),k={name:"guide/pve/pve_windows.md"},V=d('<h2 id="使用带virtio的iso镜像文件开设" tabindex="-1">使用带virtio的iso镜像文件开设 <a class="header-anchor" href="#使用带virtio的iso镜像文件开设" aria-label="Permalink to &quot;使用带virtio的iso镜像文件开设&quot;">​</a></h2><h3 id="_1-下载镜像" tabindex="-1">1.下载镜像 <a class="header-anchor" href="#_1-下载镜像" aria-label="Permalink to &quot;1.下载镜像&quot;">​</a></h3><p>安装需要提前下载镜像文件<code>local(pve) --&gt; ISO images --&gt; Download from URL</code></p><p>下载链接<code>URL:</code>可使用</p><p><a href="https://github.com/ILLKX/Windows-VirtIO" target="_blank" rel="noreferrer">https://github.com/ILLKX/Windows-VirtIO</a></p><p>中的文件链接，文件名字<code>File Name:</code>填<code>win.iso</code></p><p><img src="'+s+'" alt="download"></p><p>点击下载<code>Download</code>，下载完成后当前的页面可见<code>win.iso</code>的文件大小，可见格式为iso。</p><p><img src="'+a+'" alt="downloaded"></p><h3 id="_2-设置模板" tabindex="-1">2.设置模板 <a class="header-anchor" href="#_2-设置模板" aria-label="Permalink to &quot;2.设置模板&quot;">​</a></h3><p>页面顶部右上角点击<code>Create VM</code></p><p><code>General</code>窗口中，<code>Resource Pool:</code>勾选<code>mypool</code>，<code>Name</code>填写<code>win</code>，然后点击<code>Next</code>。</p><p><img src="'+t+'" alt="general"></p><p><code>OS</code>窗口中，<code>ISO image</code>勾选<code>win.iso</code>，<code>Guest OS</code>勾选<code>Type</code>为<code>Microsoft Windows</code>类型，<code>Version</code>选择当前<code>ISO</code>的<code>win的版本</code>，示例下载是<code>2022</code>，就选<code>11/2022</code>类型，然后点击<code>Next</code>。</p><p><img src="'+p+'" alt="OS"></p><p><code>System</code>窗口中，<code>Graphic card</code>勾选<code>VirtIO-GPU</code>类型，<code>Machine</code>勾选<code>q35</code>类型，<code>SCSI Controller</code>勾选<code>VirtIO SCSI</code>类型，<code>BIOS</code>勾选<code>Default (SeaBIOS)</code>类型，然后点击<code>Next</code>。</p><p><img src="'+i+'" alt="system"></p><p><code>Disk</code>窗口中，<code>Cache</code>勾选<code>Write Back</code>类型，<code>Disk size (GiB)</code>填写你要分配的硬盘大小，一般不小于<code>20</code>，<code>Storage</code>选择存储在哪个盘，示例只有系统盘<code>local</code>所以就选<code>loacl</code>，然后点击<code>Next</code>。</p><p><img src="'+n+'" alt="disk"></p><p><code>CPU</code>窗口中，<code>Cores</code>填写所需核数，然后点击<code>Next</code>。</p><p><img src="'+r+'" alt="cpu"></p><p><code>Memory</code>窗口中，<code>Memory (MiB)</code>填写所需内存大小，然后点击<code>Next</code>。</p><p><img src="'+l+'" alt="memory"></p><p><code>Network</code>窗口中，<code>Bridge</code>勾选<code>vmbr1</code>类型，<code>Model</code>勾选<code>VirtIO (paravirtualized)</code>类型，<code>Firewall</code>取消勾选，然后点击<code>Next</code>。</p><p><img src="'+m+'" alt="Network"></p><p><code>Confirm</code>窗口中，点击<code>Finish</code>。</p><p><img src="'+_+'" alt="finish"></p><h3 id="_3-图形化配置安装" tabindex="-1">3.图形化配置安装 <a class="header-anchor" href="#_3-图形化配置安装" aria-label="Permalink to &quot;3.图形化配置安装&quot;">​</a></h3><p>左侧点击设置好的模板，右上角点击<code>Start</code>启动虚拟机，然后点击<code>Console</code>进入<code>VNC</code>界面，等待操作系统启动。</p><p><img src="'+b+'" alt="console"></p><p>然后在VNC中点击<code>下一页</code>，然后点击<code>现在安装</code>，然后点击<code>我没有产品密钥</code>，然后勾选<code>接受许可</code>，点击<code>下一页</code>，然后勾选<code>自定义安装</code>。</p><p><img src="'+f+'" alt="win0"></p><p><img src="'+g+'" alt="win1"></p><p><img src="'+h+'" alt="win2"></p><p><img src="'+w+'" alt="win3"></p><p><img src="'+u+'" alt="win4"></p><p>然后如果镜像本身带virtio，那么应该可见可选系统存储的硬盘及其大小，选中后点击<code>下一页</code>。</p><p><img src="'+v+'" alt="win5"></p><p><img src="'+x+'" alt="win6"></p><p>然后等待系统安装，应该会自动重启几次，大概耗时10分钟以上。</p><p><img src="'+C+'" alt="win7"></p><p>安装完成后首次登录会要求设置密码，正常设置即可</p><p><img src="'+I+'" alt="win8"></p><p>设置完成后，NOVNC页面左侧有一个弹出框，点击第一个按钮，然后根据登录提示，点击<code>Ctrl</code>+<code>Alt</code>+最后一个按钮，进入登录页面。</p><h3 id="_4-初始化网络" tabindex="-1">4.初始化网络 <a class="header-anchor" href="#_4-初始化网络" aria-label="Permalink to &quot;4.初始化网络&quot;">​</a></h3><p>由于通过本项目设置的PVE是静态网络，所以登陆后需要手动修改绑定的IP地址，不通过DHCP</p><p>在桌面右下角右击点出<code>打开 网络和Internet设置</code>，点击后，在弹出的设置页面中点击<code>更改适配器设置</code></p><p><img src="'+S+'" alt="win9"></p><p>然后在<code>网络链接</code>中勾选<code>以太网</code>，点击<code>更改此连接的设置</code></p><p><img src="'+N+'" alt="win10"></p><p>在弹出框中点击<code>Internet协议版本4(TCP/IPV4)</code>选中后点击<code>属性</code></p><p><img src="'+P+`" alt="win11"></p><p>在新弹出的弹出框中，选择并点击<code>使用下面的IP地址(s)</code>，然后分别填入</p><p>IP地址(I)：<code>172.16.1.xxx</code>(xxx换成你想绑定的ip，我的vmid是100，为了方便写了100)</p><p>子网掩码(U)：<code>255.255.255.0</code></p><p>默认网关(D)：<code>172.16.1.1</code></p><p>然后选择点击<code>使用下面的DNS服务器地址(E)</code>，分别填入</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">8.8.8.8</span></span>
<span class="line"><span style="color:#A6ACCD;">144.144.144.144</span></span></code></pre></div><p>然后右下角点击确定，注意<code>不要</code>勾选<code>退出时验证</code></p><p><img src="`+O+'" alt="win12"></p><p>然后其他弹出框都选<code>确定</code>和<code>是</code>就行了，然后本虚拟机就有网络了。</p>',61),q=[V];function y(D,M,B,L,U,A){return o(),c("div",null,q)}const W=e(k,[["render",y]]);export{R as __pageData,W as default};

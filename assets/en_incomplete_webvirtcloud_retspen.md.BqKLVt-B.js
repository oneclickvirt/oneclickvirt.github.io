import{_ as t,c as s,o as i,ag as a}from"./chunks/framework.CSeR4K32.js";const n="/assets/vcr1.NRLOOynQ.jpg",o="/assets/vcr2.DC9j-Ib5.jpg",l="/assets/vcr3.Ea5Km6nQ.jpg",p="/assets/vcr4.B9DOiqQ8.jpg",r="/assets/vcr5.BajXu8XE.jpg",c="/assets/vcr6.CxN-b1o3.jpg",d="/assets/vcr7.D4aYKhIW.jpg",h="/assets/vcr8.ByRFpMlF.jpg",g="/assets/vcr9.B4apCqgi.jpg",u="/assets/vcr10.D8t6cQ5v.jpg",m="/assets/vcr11.Cz1VMbIx.jpg",k="/assets/vcr12.BNQe5j_u.jpg",v="/assets/vcr13.JV3PfcCZ.jpg",b="/assets/deadimage.BBBzAqkc.jpg",y="/assets/vcr14.Cjyr65Qp.jpg",f="/assets/resize.ppnxVOAW.jpg",q=JSON.parse('{"title":"","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"en/incomplete/webvirtcloud_retspen.md","filePath":"en/incomplete/webvirtcloud_retspen.md","lastUpdated":1762253243000}'),_={name:"en/incomplete/webvirtcloud_retspen.md"};function F(w,e,C,B,x,j){return i(),s("div",null,e[0]||(e[0]=[a(`<h2 id="webvirtcloud-installation-guide" tabindex="-1">WebVirtCloud Installation Guide <a class="header-anchor" href="#webvirtcloud-installation-guide" aria-label="Permalink to &quot;WebVirtCloud Installation Guide&quot;">​</a></h2><p><a href="https://hits.spiritlhl.net" target="_blank" rel="noreferrer"><img src="https://hits.spiritlhl.net/webvirtcloud.svg?action=hit&amp;title=hits&amp;title_bg=%23555555&amp;count_bg=%233aebee&amp;edge_flat=false" alt="hits"></a></p><p>Repository: <a href="https://github.com/oneclickvirt/webvirtcloud" target="_blank" rel="noreferrer">https://github.com/oneclickvirt/webvirtcloud</a></p><p>Origin Repository:：<a href="https://github.com/oneclickvirt/webvirtcloud_retspen" target="_blank" rel="noreferrer">https://github.com/oneclickvirt/webvirtcloud_retspen</a></p><h2 id="controller-node-and-computer-node-installation" tabindex="-1">Controller Node and Computer Node Installation <a class="header-anchor" href="#controller-node-and-computer-node-installation" aria-label="Permalink to &quot;Controller Node and Computer Node Installation&quot;">​</a></h2><ul><li>Supported Systems: Debian10+, Ubuntu18.04+, Centos8+, AlmaLinux8+, RockyLinux8+</li><li>Recommended system: Debian12+, Ubuntu22.04+.</li><li>Lower versions of the system will automatically compile the new version of python installation package before deployment, so it is recommended to use a new system without compiling directly installed!</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -slk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.githubusercontent.com/oneclickvirt/webvirtcloud/main/scripts/install_webvirt_cloud_retspen.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install_webvirt_cloud_retspen.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install_webvirt_cloud_retspen.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install_webvirt_cloud_retspen.sh</span></span></code></pre></div><p>After installation is complete, open the public IP address to access the login page.</p><p>The default login username and password are both <code>admin</code>. Make sure to change them after logging in.</p><h2 id="creating-a-linux-virtual-machine" tabindex="-1">Creating a Linux Virtual Machine <a class="header-anchor" href="#creating-a-linux-virtual-machine" aria-label="Permalink to &quot;Creating a Linux Virtual Machine&quot;">​</a></h2><p>After entering the control panel and changing the admin password, you need to manually configure a compute node.</p><p><img src="`+n+'" alt="vcr1"></p><p>Select the type as <code>Local</code>, and name it <code>local</code>.</p><p><img src="'+o+'" alt="vcr2"></p><p>After creation, click the eye icon to enter the view.</p><p><img src="'+l+'" alt="vcr3"></p><p>Under the <code>Storage</code> section, add a storage entry. Choose the type <code>Dir</code> and name it <code>local</code>. If you need to use an ISO for system boot, you’ll need to create a storage of type <code>ISO</code>. If not, just follow this guide and create only the <code>Dir</code> type.</p><p><img src="'+p+'" alt="vcr4"></p><p><img src="'+r+`" alt="vcr5"></p><p>After creation, download the appropriate qcow2 image for the system using the repository below:</p><p><a href="https://github.com/oneclickvirt/pve_kvm_images/releases/tag/images" target="_blank" rel="noreferrer">https://github.com/oneclickvirt/pve_kvm_images/releases/tag/images</a></p><p>In the example, a Debian 12 qcow2 image is used:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/libvirt/images</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/oneclickvirt/pve_kvm_images/releases/download/images/debian12.qcow2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 777</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> debian12.qcow2</span></span></code></pre></div><p>Return to the instance page to create a new instance.</p><p><img src="`+c+'" alt="vcr6"></p><p>Select <code>local</code> as the compute node.</p><p><img src="'+d+'" alt="vcr7"></p><p>The default chipset is fine; changing it is optional.</p><p><img src="'+h+'" alt="vcr8"></p><p>You can use predefined sizes for the virtual machine or customize it, depending on your preference.</p><p><img src="'+g+'" alt="vcr9"></p><p>Note: the instance name must not duplicate the system name. For example, you cannot use <code>debian12</code> as the instance name in this case.</p><p><img src="'+u+'" alt="vcr10"></p><p>After successful creation, <strong>do not</strong> power it on immediately.</p><p><img src="'+m+'" alt="vcr11"></p><p>You need to modify the disk settings first.</p><p><img src="'+k+'" alt="vcr12"></p><p>Change the disk file to <code>debian12.qcow2</code>, which matches the qcow2 image you previously downloaded.</p><p><img src="'+v+'" alt="vcr13"></p><p>After the modification is confirmed you will see a redundant disk in the <code>local</code> volume of the original compute node&#39;s storage, such as <code>test.qcow2</code> here, which is best deleted to avoid hogging the disk</p><p><img src="'+b+'" alt="deadimage"></p><p>Once confirmed and configured correctly, return to the power page and turn on the VM.</p><p><img src="'+y+'" alt="vcr14"></p><p>The default login for the image is:</p><ul><li><strong>Username</strong>: <code>root</code></li><li><strong>Password</strong>: <code>password</code> or <code>oneclickvirt</code></li></ul><p>After booting, you will find that the hard disk is only the size of the original image, at this time you need to adjust the size of the hard disk, you need to shut down the computer again, at this time, you can see the buttons on the following page is available and the size of the hard disk is also recognized.</p><p>Without the first boot, the size of the hard disk is not recognized, recognition can not be modified, so the first switch is necessary.</p><p><img src="'+f+`" alt="resize"></p><p>After the modification and restart the virtual machine, you will find that there is new disk space unallocated, at this time you need to follow the following method resize disk.</p><p>Check the disk path and remaining blank space unallocated:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lsblk</span></span></code></pre></div><p>Then use the following command to resizeen the disk</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fdisk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vda</span></span></code></pre></div><p>Do this in the following order:</p><p>Type <code>d</code> to delete the old partition (yes, you need to delete the old vda1, no data will be lost as it will not be formatted later).</p><p>Type <code>n</code> and enter to create a new partition.</p><p>Select primary for type (default p) and just enter.</p><p>Partition number is also <code>1</code>.</p><p>The start position must be the same as the old partition (default is right), just press enter.</p><p>Show if you want to erase fingerprints, type <code>Y</code> and enter.</p><p>Press enter at the end position to use all the remaining space.</p><p>Type <code>w</code> to save and exit.</p><p>At this point, use <code>lsblk</code> to confirm that the new free disk has been successfully allocated.</p><h2 id="disadvantages" tabindex="-1">Disadvantages <a class="header-anchor" href="#disadvantages" aria-label="Permalink to &quot;Disadvantages&quot;">​</a></h2><p>Networking is not auto-configured — not as smart as the previous project — you still need to configure it manually.</p><p>You need to be in the VNC of the opened VM, logged in and execute</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cloud-init</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reboot</span></span></code></pre></div><p>Manually enable the configuration to self-start after reboot, then reboot the server and you have internet.</p>`,68)]))}const A=t(_,[["render",F]]);export{q as __pageData,A as default};
